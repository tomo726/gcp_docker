<meta charset="utf-8">
<h1 id="gcpでdockerを使う">GCPでDockerを使う</h1>
<p>Dockerを使う理由:<br />
OSやバージョン違いの動作に素早く対応できデプロイの速度を上げられるから</p>
<h2 id="簡略版-ローカルにイメージを作らず直接gcpにアップ">簡略版 (ローカルにイメージを作らず直接GCPにアップ)</h2>
<ul>
<li>最初<br />
gcloud builds submit –tag gcr.io/celtic-fact-283407/helloworld<br />
gcloud run deploy –region=asia-northeast1 –image gcr.io/celtic-fact-283407/helloworld –platform managed<br />
</li>
<li>編集<br />
「継続的デプロイを編集」によってgit pushをすれば自動で更新される</li>
</ul>
<h2 id="ローカルから細かく行う方法">ローカルから細かく行う方法</h2>
<ul>
<li>最初<br />
docker build -t flask_docker .<br />
ローカルコンテナ: docker run -e PORT=8000 -p 8000:8000 flask_docker<br />
サーバコンテナ:<br />
tagも毎回付け直す必要がある<br />
docker tag flask_docker gcr.io/integral-cell-280701/flask_docker<br />
docker push gcr.io/integral-cell-280701/flask_docker<br />
</li>
<li>編集<br />
</li>
</ul>
<ol type="1">
<li>docker build -t flask_docker .<br />
</li>
<li>docker run -i -t -p 8000:8000 flask_docker /bin/bash で編集<br />
</li>
<li>docker container cp ローカルファイル [コンテナID]:/app で　ローカルト-&gt;コンテナにファイル移動<br />
</li>
<li>別のタブでdocker commit [コンテナID] flask_dockerを実行し、2.をexit<br />
コンテナ全削除<br />
docker ps -aq | xargs docker rm -f<br />
イメージ全削除<br />
docker images -aq | xargs docker rmi -f</li>
</ol>
<h1 id="マークダウン---latex-html">マークダウン -&gt; LaTeX, html</h1>
<p>mdファイルのあるところで、以下のコマンドを実行するとmdファイルをhtmlに変換できる、LaTeXへの変換も同様</p>
<pre><code>docker run --rm --volume &quot;$(pwd):/data&quot; --user $(id -u):$(id -g) pandoc/latex README.md -o README.html</code></pre>
